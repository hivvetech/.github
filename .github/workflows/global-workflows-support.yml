name: Global workflow to rule them all

on:
  push:
      branches: 
        - main

jobs:
  replicate_changes:
      runs-on: ubuntu-latest

      steps:
      - name: Checkout repository
        uses: actions/checkout@v2
        
      - name: Replicating global workflows
        uses: derberg/global-workflows-support@v0.2.0
        with:
          github_token: ${{ secrets.GH_TOKEN }}
          # this action will not replicate to other repos workflows listed here
          files_to_ignore: global-workflows-support.yml
          committer_username: vvdevteam
          committer_email: dev@vertigoventures.com
          # it is both, commit message and PR title
          commit_message: "ci: update global workflows"
          topics_to_include: workflows
